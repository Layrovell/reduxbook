(this.webpackJsonpreduxbook=this.webpackJsonpreduxbook||[]).push([[0],{68:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(19),s=n.n(r),u=n(15),i=n(3),o=n(13),b=n(9),j=n(11),l=n.n(j),d=n(16),p=n(25),m=n.n(p),f=n(40),O=n(4),h="SET_USERS",v="SET_IS_FETCHING",x="SET_FETCH_ERR",y="DELETE_USER",g="ADD_USER",_="UPDATE_USER",N="SET_USER",S={items:[],isFetching:!0,isFetchErr:!1,user:""};var k=function(e){return{type:v,payload:e}},E=function(e){return{type:x,payload:e}},F=function(e){return{type:y,payload:e}},w=(n(68),n(1)),T=function(){return Object(w.jsx)("div",{className:"lds-dual-ring"})},C="/reduxbook",D="/reduxbook/user/:id",R=(n(71),n(72),function(e){var t=e.name,n=e.number,c=e.setName,a=e.setNumber,r=e.handleSubmit;return Object(w.jsxs)("form",{onSubmit:r,children:[Object(w.jsx)("input",{value:t,onChange:function(e){return c(e.target.value)},placeholder:"name"}),Object(w.jsx)("input",{value:n,onChange:function(e){return a(e.target.value)},placeholder:"number"}),Object(w.jsx)("button",{className:"btn",type:"submit",children:"add"})]})}),U=(n(73),function(e){var t=e.user,n=Object(b.b)();return Object(w.jsxs)("div",{className:"book__item",children:[Object(w.jsx)("span",{className:"form__circle"}),Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"book__name",children:t.name}),Object(w.jsx)("div",{className:"book__number",children:t.number})]}),Object(w.jsx)("button",{onClick:function(){return n((e=t._id,function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{fetch("http://localhost:8008/api/users/delete/".concat(e),{method:"GET"}),n(F(e))}catch(c){c.message}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e},className:"btn",children:"delete"}),Object(w.jsx)(u.b,{to:"/reduxbook/user/".concat(t._id),className:"btn",children:"edit"})]})}),I=function(e){return e.users.map((function(e){return Object(w.jsx)(U,{user:e},e._id)}))},P=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(o.a)(r,2),u=s[0],i=s[1],j=Object(c.useState)(!1),p=Object(o.a)(j,2),f=p[0],O=p[1],v=Object(b.b)(),x=Object(b.c)((function(e){return e.users.items})),y=Object(b.c)((function(e){return e.users.isFetching}));Object(c.useEffect)((function(){v(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(k(!0)),t(E(!1)),e.next=5,m.a.post("http://localhost:8008/api/users/get");case 5:n=e.sent,t((c=n.data,{type:h,payload:c})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(E(!0));case 12:return e.prev=12,t(k(!1)),e.finish(12);case 15:case"end":return e.stop()}var c}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}())}),[]);return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("article",{className:"book",children:[Object(w.jsx)("button",{onClick:function(){return O(!f)},className:"btn",children:"new"}),f&&Object(w.jsx)(R,{name:n,number:u,setName:a,setNumber:i,handleSubmit:function(e){e.preventDefault(),""!==n&&""!==u&&v(function(e,t){return function(){var n=Object(d.a)(l.a.mark((function n(c){var a,r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("http://localhost:8008/api/users/create",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({name:e,number:t})});case 3:return a=n.sent,n.next=6,a.json();case 6:r=n.sent,console.log(r),c({type:g,payload:r}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),n.t0.message;case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(n,u))}}),y?Object(w.jsx)(T,{}):Object(w.jsx)(I,{users:x,name:n,number:u,setName:a,setNumber:i})]})})};var J=function(){return Object(w.jsx)(P,{})},L=Object(w.jsxs)("div",{children:[Object(w.jsx)(i.a,{exact:!0,path:C,component:J}),Object(w.jsx)(i.a,{path:D,component:function(){var e=Object(i.e)().id,t=Object(b.c)((function(t){return t.users.items.find((function(t){return t._id===e}))})),n=Object(c.useState)(t.name),a=Object(o.a)(n,2),r=a[0],s=a[1],j=Object(c.useState)(t.number),p=Object(o.a)(j,2),f=p[0],O=p[1],h=Object(b.c)((function(e){return e.users.isFetching})),v=Object(b.b)();Object(c.useEffect)((function(){v(function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(k(!0)),n(E(!1)),t.next=5,m.a.get("http://localhost:8008/api/users/get/".concat(e));case 5:c=t.sent,n((a=c.data,{type:N,payload:a})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n(E(!0));case 12:return t.prev=12,n(k(!1)),t.finish(12);case 15:case"end":return t.stop()}var a}),t,null,[[0,9,12,15]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[]);return Object(w.jsx)(w.Fragment,{children:h?Object(w.jsx)(T,{}):Object(w.jsxs)("form",{className:"form__edit",onSubmit:function(e){var n,c,a;e.preventDefault(),v((n=r,c=f,a=t._id,function(){var e=Object(d.a)(l.a.mark((function e(t){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:8008/api/users/update",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({name:n,number:c,_id:a})});case 3:return r=e.sent,e.next=6,r.json();case 6:s=e.sent,console.log(s),t({type:_,payload:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),e.t0.message;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(w.jsx)("div",{className:"form__details",children:Object(w.jsx)("span",{className:"form__circle"})}),h?Object(w.jsx)(T,{}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("input",{value:r,className:"input-edit",onChange:function(e){return s(e.target.value)}}),Object(w.jsx)("input",{value:f,className:"input-edit",onChange:function(e){return O(e.target.value)}})]}),Object(w.jsxs)("div",{className:"buttons",children:[Object(w.jsx)("button",{className:"btn btn__save",children:"save"}),Object(w.jsx)(u.b,{to:"/reduxbook/",className:"btn",children:"back"})]})]})})}})]}),A=(n(74),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))}),B=n(12),G=n(38),H=n(39),M=Object(B.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(O.a)(Object(O.a)({},e),{},{items:t.payload.items});case v:return Object(O.a)(Object(O.a)({},e),{},{isFetching:t.payload});case x:return Object(O.a)(Object(O.a)({},e),{},{isFetchErr:t.payload});case y:return Object(O.a)(Object(O.a)({},e),{},{items:e.items.filter((function(e){return e._id!==t.payload}))});case g:return Object(O.a)(Object(O.a)({},e),{},{items:[].concat(Object(f.a)(e.items),[t.payload.newItem])});case _:var n=e.items.map((function(e){return e._id===t.payload._id?Object(O.a)({},t.payload):e}));return Object(O.a)(Object(O.a)({},e),{},{items:n});case N:return Object(O.a)(Object(O.a)({},e),{},{user:t.payload.item});default:return e}}}),W=Object(B.createStore)(M,Object(G.composeWithDevTools)(Object(B.applyMiddleware)(H.a)));s.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(u.a,{children:Object(w.jsx)(b.a,{store:W,children:L})})}),document.getElementById("root")),A()}},[[75,1,2]]]);
//# sourceMappingURL=main.754ca094.chunk.js.map