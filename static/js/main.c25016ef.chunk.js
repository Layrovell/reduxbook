(this.webpackJsonpbook=this.webpackJsonpbook||[]).push([[0],{68:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(19),s=n.n(r),o=n(12),i=n(3),u=n(15),b=n(6),j=n(11),l=n.n(j),d=n(16),p=n(25),f=n.n(p),h=n(40),O=n(4),m="SET_USERS",v="SET_IS_FETCHING",x="SET_FETCH_ERR",y="DELETE_USER",g="ADD_USER",_="UPDATE_USER",k="SET_USER",N={items:[],isFetching:!0,isFetchErr:!1,user:""};var S=function(e){return{type:v,payload:e}},E=function(e){return{type:x,payload:e}},F=function(e){return{type:y,payload:e}},T=(n(68),n(1)),w=function(){return Object(T.jsx)("div",{className:"lds-dual-ring"})},C="/book",D="/book/user/:id",R="/book/add",U=(n(71),n(72),n(73),function(e){var t=e.user,n=Object(b.b)();return Object(T.jsxs)("div",{className:"book__item",children:[Object(T.jsx)("span",{className:"form__circle"}),Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:"book__name",children:t.name}),Object(T.jsx)("div",{className:"book__number",children:t.number})]}),Object(T.jsx)("button",{onClick:function(){return n((e=t._id,function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{fetch("http://localhost:8008/api/users/delete/".concat(e),{method:"GET"}),n(F(e))}catch(c){c.message}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e},className:"btn",children:"delete"}),Object(T.jsx)(o.b,{to:"/book/user/".concat(t._id),className:"btn",children:"edit"})]})}),I=function(e){return e.users.map((function(e){return Object(T.jsx)(U,{user:e},e._id)}))};var P=function(){var e=Object(b.c)((function(e){return e.users.items})),t=Object(b.c)((function(e){return e.users.isFetching})),n=Object(b.b)();return Object(c.useEffect)((function(){n(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(S(!0)),t(E(!1)),e.next=5,f.a.post("http://localhost:8008/api/users/get");case 5:n=e.sent,t((c=n.data,{type:m,payload:c})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(E(!0));case 12:return e.prev=12,t(S(!1)),e.finish(12);case 15:case"end":return e.stop()}var c}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("article",{className:"book",children:[Object(T.jsx)(o.b,{to:"/book/add",className:"btn btn-add",children:"add"}),t?Object(T.jsx)(w,{}):Object(T.jsx)(I,{users:e})]})})},B=(n(74),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(i.a,{exact:!0,path:C,component:P}),Object(T.jsx)(i.a,{path:D,component:function(e){var t=e.history,n=Object(i.e)().id,a=Object(b.c)((function(e){return e.users.items.find((function(e){return e._id===n}))}));console.log(a);var r=Object(c.useState)(a.name),s=Object(u.a)(r,2),j=s[0],p=s[1],h=Object(c.useState)(a.number),O=Object(u.a)(h,2),m=O[0],v=O[1],x=Object(b.c)((function(e){return e.users.isFetching})),y=Object(b.b)();Object(c.useEffect)((function(){y(function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(S(!0)),n(E(!1)),t.next=5,f.a.get("http://localhost:8008/api/users/get/".concat(e));case 5:c=t.sent,n((a=c.data,{type:k,payload:a})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n(E(!0));case 12:return t.prev=12,n(S(!1)),t.finish(12);case 15:case"end":return t.stop()}var a}),t,null,[[0,9,12,15]])})));return function(e){return t.apply(this,arguments)}}()}(n))}),[]);return Object(T.jsx)(T.Fragment,{children:x?Object(T.jsx)(w,{}):Object(T.jsxs)("form",{className:"form__edit",onSubmit:function(e){var n,c,r;e.preventDefault(),y((n=j,c=m,r=a._id,function(){var e=Object(d.a)(l.a.mark((function e(t){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:8008/api/users/update",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({name:n,number:c,_id:r})});case 3:return a=e.sent,e.next=6,a.json();case 6:s=e.sent,console.log(s),t({type:_,payload:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),e.t0.message;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())),t.goBack()},children:[Object(T.jsx)("div",{className:"form__details",children:Object(T.jsx)("span",{className:"form__circle"})}),x?Object(T.jsx)(w,{}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("input",{value:j,className:"input-edit",onChange:function(e){return p(e.target.value)}}),Object(T.jsx)("input",{value:m,className:"input-edit",onChange:function(e){return v(e.target.value)}})]}),Object(T.jsxs)("div",{className:"buttons",children:[Object(T.jsx)("button",{className:"btn btn__save",children:"save"}),Object(T.jsx)(o.b,{to:"/book/",className:"btn",children:"back"})]})]})})}}),Object(T.jsx)(i.a,{path:R,component:function(e){var t=Object(c.useState)(""),n=Object(u.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),i=Object(u.a)(s,2),j=i[0],p=i[1],f=Object(b.b)();return Object(T.jsxs)("form",{className:"form__add",onSubmit:function(t){t.preventDefault(),""!==a&&""!==j&&f(function(e,t){return function(){var n=Object(d.a)(l.a.mark((function n(c){var a,r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("http://localhost:8008/api/users/create",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({name:e,number:t})});case 3:return a=n.sent,n.next=6,a.json();case 6:r=n.sent,console.log(r),c({type:g,payload:r}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),n.t0.message;case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(a,j)),e.history.goBack()},children:[Object(T.jsx)("input",{value:a,onChange:function(e){return r(e.target.value)},placeholder:"name"}),Object(T.jsx)("input",{value:j,onChange:function(e){return p(e.target.value)},placeholder:"number"}),Object(T.jsxs)("div",{className:"buttons",children:[Object(T.jsx)("button",{className:"btn",type:"submit",children:"save"}),Object(T.jsx)(o.b,{to:"/book/",className:"btn",children:"back"})]})]})}})]})),J=(n(75),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))}),L=n(13),A=n(38),G=n(39),H=Object(L.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(O.a)(Object(O.a)({},e),{},{items:t.payload.items});case v:return Object(O.a)(Object(O.a)({},e),{},{isFetching:t.payload});case x:return Object(O.a)(Object(O.a)({},e),{},{isFetchErr:t.payload});case y:return Object(O.a)(Object(O.a)({},e),{},{items:e.items.filter((function(e){return e._id!==t.payload}))});case g:return Object(O.a)(Object(O.a)({},e),{},{items:[].concat(Object(h.a)(e.items),[t.payload.newItem])});case _:var n=e.items.map((function(e){return e._id===t.payload._id?Object(O.a)({},t.payload):e}));return Object(O.a)(Object(O.a)({},e),{},{items:n});case k:return Object(O.a)(Object(O.a)({},e),{},{user:t.payload.item});default:return e}}}),M=Object(L.createStore)(H,Object(A.composeWithDevTools)(Object(L.applyMiddleware)(G.a)));s.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(o.a,{children:Object(T.jsx)(b.a,{store:M,children:B})})}),document.getElementById("root")),J()}},[[76,1,2]]]);
//# sourceMappingURL=main.c25016ef.chunk.js.map