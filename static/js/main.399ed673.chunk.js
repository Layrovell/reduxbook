(this.webpackJsonpreduxbook=this.webpackJsonpreduxbook||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},68:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(16),a=n.n(s),i=(n(42),n(43),n(44),n(18)),o=n(3),u=n(9),l=n(10),j=n.n(l),b=n(15),h=n(35),d=n.n(h),p=n(12),m="SET_USERS",O="SET_IS_FETCHING",f="SET_FETCH_ERR",x={items:[],isFetching:!0,isFetchErr:!1};var v=function(e){return{type:O,payload:e}},N=function(e){return{type:f,payload:e}},y=(n(68),n(1)),F=function(){return Object(y.jsx)("div",{className:"lds-dual-ring"})},g=function(e){var t=e.users,n=e.isFetching,c=e.isFetchErr,r=Object(u.b)();return Object(y.jsx)("section",{className:"section",children:Object(y.jsxs)("div",{className:"home",children:[Object(y.jsx)("h3",{className:"title",children:"The phonebook"}),c&&Object(y.jsx)("div",{children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430! \u041f\u041e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443!"}),n?Object(y.jsx)(F,{}):Object(y.jsx)("ul",{className:"home__book book",children:t.map((function(e){return Object(y.jsxs)("li",{className:"book__item",children:[Object(y.jsx)("span",{className:"book__icon"}),e.name,Object(y.jsx)("button",{onClick:function(){var t;r((t=e._id,function(){var e=Object(b.a)(j.a.mark((function e(n){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=fetch("http://localhost:8008/api/users/delete/".concat(t),{method:"GET"}),e.abrupt("return",c.json());case 5:e.prev=5,e.t0=e.catch(0),e.t0.message;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()))},children:"delete"})]},e._id)}))})]})})},_=n(24),k=function(){var e=Object(c.useState)(""),t=Object(_.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(""),a=Object(_.a)(s,2),i=a[0],o=a[1],l=Object(u.b)();return Object(y.jsxs)("form",{action:"",className:"form__add",onSubmit:function(e){e.preventDefault(),""!==n&&""!==i&&(l(function(e,t){return function(){var n=Object(b.a)(j.a.mark((function n(c){var r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("http://localhost:8008/api/users/create",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({name:e,number:t})});case 3:return r=n.sent,n.next=6,r.json();case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),n.t0.message;case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(n,i)),r(""),o("")),console.warn("handleSubmit")},children:[Object(y.jsx)("h3",{className:"title",children:"Create"}),Object(y.jsx)("label",{htmlFor:"firstName",children:"Name:"}),Object(y.jsx)("input",{value:n,onChange:function(e){r(e.target.value)},type:"text",placeholder:"John",id:"firstName"}),Object(y.jsx)("label",{htmlFor:"phone",children:"Number:"}),Object(y.jsx)("input",{value:i,onChange:function(e){o(e.target.value)},type:"text",placeholder:"+3 733 333 77 77",id:"phone"}),Object(y.jsx)("button",{className:"btn",type:"submit",children:"Save"})]})},S=function(){return Object(y.jsxs)("form",{action:"",className:"form__edit",children:[Object(y.jsx)("h3",{className:"title",children:"Edit"}),Object(y.jsx)("label",{htmlFor:"firstName",children:"Name:"}),Object(y.jsx)("input",{type:"text",placeholder:"John",id:"firstName"}),Object(y.jsx)("label",{htmlFor:"phone",children:"Number:"}),Object(y.jsx)("input",{type:"text",placeholder:"+3 733 333 77 77",id:"phone"}),Object(y.jsx)("button",{className:"btn",type:"submit",children:"Save"})]})},E=function(){return Object(y.jsx)("section",{className:"section",children:Object(y.jsxs)("div",{className:"forms",children:[Object(y.jsx)(k,{}),Object(y.jsx)(S,{})]})})};var T=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.users.items})),n=Object(u.c)((function(e){return e.users.isFetching})),r=Object(u.c)((function(e){return e.users.isFetchErr}));return Object(c.useEffect)((function(){e(function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(v(!0)),t(N(!1)),e.next=5,d.a.post("http://localhost:8008/api/users/get");case 5:n=e.sent,t((c=n.data,{type:m,payload:c})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(N(!0));case 12:return e.prev=12,t(v(!1)),e.finish(12);case 15:case"end":return e.stop()}var c}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(y.jsx)(i.a,{children:Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)("nav",{className:"nav",children:Object(y.jsxs)("ul",{className:"nav_list",children:[Object(y.jsx)("li",{className:"nav_link",children:Object(y.jsx)(i.b,{to:"/home","data-item":"Home",children:"Home"})}),Object(y.jsx)("li",{className:"nav_link",children:Object(y.jsx)(i.b,{to:"/form","data-item":"Form",children:"Form"})})]})}),Object(y.jsxs)(o.d,{children:[Object(y.jsx)(o.b,{exact:!0,path:"/reduxbook",render:function(){return Object(y.jsx)(o.a,{to:"/home"})}}),Object(y.jsx)(o.b,{path:"/home",render:function(){return Object(y.jsx)(g,{users:t,isFetching:n,isFetchErr:r})}}),Object(y.jsx)(o.b,{path:"/form",render:function(){return Object(y.jsx)(E,{})}})]})]})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))},C=n(11),J=n(36),H=n(37),I=Object(C.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(p.a)(Object(p.a)({},e),{},{items:t.payload.items});case O:return Object(p.a)(Object(p.a)({},e),{},{isFetching:t.payload});case f:return Object(p.a)(Object(p.a)({},e),{},{isFetchErr:t.payload});default:return e}}}),R=Object(C.createStore)(I,Object(J.composeWithDevTools)(Object(C.applyMiddleware)(H.a)));a.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(u.a,{store:R,children:Object(y.jsx)(T,{})})}),document.getElementById("root")),w()}},[[71,1,2]]]);
//# sourceMappingURL=main.399ed673.chunk.js.map