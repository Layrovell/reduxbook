{"version":3,"sources":["store/bookReducer.js","components/Loader/Loader.jsx","components/Home/Home.jsx","store/actions.js","components/Form/AddForm/AddForm.jsx","components/Form/EditForm/EditForm.jsx","components/Form/Form.jsx","App.js","reportWebVitals.js","store/index.js","index.js"],"names":["SET_USERS","SET_IS_FETCHING","SET_FETCH_ERR","defaultState","items","isFetching","isFetchErr","setIsFetching","bool","type","payload","setFetchErr","Loader","className","Home","users","dispatch","useDispatch","map","elem","name","onClick","id","_id","a","response","fetch","method","json","message","AddForm","useState","setName","number","setNumber","action","onSubmit","e","preventDefault","headers","body","JSON","stringify","createUser","console","warn","htmlFor","value","onChange","target","placeholder","EditForm","Form","App","useSelector","state","useEffect","axios","post","data","to","data-item","exact","path","render","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById"],"mappings":"mUAAMA,EAAY,YACZC,EAAkB,kBAClBC,EAAgB,gBAEhBC,EAAe,CACjBC,MAAO,GACPC,YAAY,EACZC,YAAY,GAyBT,IAKMC,EAAgB,SAACC,GAAD,MAAW,CACpCC,KAAMR,EACNS,QAASF,IAGAG,EAAc,SAACH,GAAD,MAAW,CAClCC,KAAMP,EACNQ,QAASF,I,eCzCAI,EAAS,WAClB,OACI,qBAAKC,UAAU,mBCAVC,EAAO,SAAC,GAAoC,IAAnCC,EAAkC,EAAlCA,MAAOV,EAA2B,EAA3BA,WAAWC,EAAgB,EAAhBA,WAC9BU,EAAWC,cAEjB,OACI,yBAASJ,UAAU,UAAnB,SACI,sBAAKA,UAAU,OAAf,UACI,oBAAIA,UAAU,QAAd,2BAECP,GACG,+RAGHD,EACK,cAAC,EAAD,IACA,oBAAIQ,UAAU,kBAAd,SACGE,EAAMG,KAAI,SAAAC,GAAI,OACX,qBAAmBN,UAAU,aAA7B,UACI,sBAAMA,UAAU,eACfM,EAAKC,KACN,wBACIC,QAAS,WCPnB,IAACC,EDQaN,GCRbM,EDQiCH,EAAKI,ICP7D,uCAAO,WAAOP,GAAP,eAAAQ,EAAA,sEAEOC,EAAWC,MAAM,0CAAD,OAA2CJ,GAAM,CACnEK,OAAQ,QAHb,kBAKQF,EAASG,QALjB,gCAOsB,KAAMC,QAP5B,wDAAP,yDDK4B,sBAHKV,EAAKI,gB,QEjB7BO,EAAU,WAAO,IAAD,EACDC,mBAAS,IADR,mBAClBX,EADkB,KACZY,EADY,OAEGD,mBAAS,IAFZ,mBAElBE,EAFkB,KAEVC,EAFU,KAGnBlB,EAAWC,cAajB,OACI,uBAAMkB,OAAO,GAAGtB,UAAU,YAAYuB,SAZrB,SAACC,GAClBA,EAAEC,iBAEW,KAATlB,GAA0B,KAAXa,IACfjB,EDkBc,SAACI,EAAMa,GAC7B,8CAAO,WAAOjB,GAAP,eAAAQ,EAAA,+EAEwBE,MAAM,yCAA0C,CACnEC,OAAQ,OACRY,QAAS,CAAC,eAAgB,mCAC1BC,KAAMC,KAAKC,UAAU,CAACtB,OAAMa,aALjC,cAEOR,EAFP,gBAOOA,EAASG,OAPhB,uDASsB,KAAMC,QAT5B,yDAAP,sDCnBiBc,CAAWvB,EAAMa,IAC1BD,EAAQ,IACRE,EAAU,KAEdU,QAAQC,KAAK,iBAIb,UACI,oBAAIhC,UAAU,QAAd,oBACI,uBAAOiC,QAAQ,YAAf,mBACA,uBACIC,MAAO3B,EACP4B,SAAU,SAACX,GACPL,EAAQK,EAAEY,OAAOF,QAErBtC,KAAK,OACLyC,YAAY,OACZ5B,GAAG,cAEP,uBAAOwB,QAAQ,QAAf,qBACA,uBACIC,MAAOd,EACPe,SAAU,SAACX,GACPH,EAAUG,EAAEY,OAAOF,QAEvBtC,KAAK,OACLyC,YAAY,mBACZ5B,GAAG,UAEP,wBAAQT,UAAU,MAAMJ,KAAK,SAA7B,sBCzCH0C,EAAW,WACpB,OACI,uBAAMhB,OAAO,GAAGtB,UAAU,aAA1B,UACI,oBAAIA,UAAU,QAAd,kBACA,uBAAOiC,QAAQ,YAAf,mBACA,uBACIrC,KAAK,OACLyC,YAAY,OACZ5B,GAAG,cAEP,uBAAOwB,QAAQ,QAAf,qBACA,uBACIrC,KAAK,OACLyC,YAAY,mBACZ5B,GAAG,UAEP,wBAAQT,UAAU,MAAMJ,KAAK,SAA7B,sBCdC2C,EAAO,WAChB,OACI,yBAASvC,UAAU,UAAnB,SACI,sBAAKA,UAAU,QAAf,UACI,cAAC,EAAD,IACA,cAAC,EAAD,UC2CDwC,MA3Cf,WACI,IAAMrC,EAAWC,cACXF,EAAQuC,aAAY,SAAAC,GAAK,OAAIA,EAAMxC,MAAMX,SACzCC,EAAaiD,aAAY,SAAAC,GAAK,OAAIA,EAAMxC,MAAMV,cAC9CC,EAAagD,aAAY,SAAAC,GAAK,OAAIA,EAAMxC,MAAMT,cAMpD,OAJAkD,qBAAU,WACNxC,EJZJ,uCAAO,WAAOA,GAAP,eAAAQ,EAAA,sEAECR,EAAST,GAAc,IACvBS,EAASL,GAAY,IAHtB,SAIwB8C,IAAMC,KAAN,uCAJxB,OAIOjC,EAJP,OAKCT,GHuBaD,EGvBKU,EAASkC,KHuBH,CAChClD,KAAMT,EACNU,QAASK,KG9BF,gDAOCC,EAASL,GAAY,IAPtB,yBASCK,EAAST,GAAc,IATxB,+CH4Ba,IAACQ,IG5Bd,0BAAP,yDIaG,IAGC,cAAC,IAAD,UACI,sBAAKF,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,qBAAIA,UAAU,WAAd,UACI,oBAAIA,UAAU,WAAd,SACI,cAAC,IAAD,CAAM+C,GAAG,QAAQC,YAAU,OAA3B,oBAEJ,oBAAIhD,UAAU,WAAd,SACI,cAAC,IAAD,CAAM+C,GAAG,QAAQC,YAAU,OAA3B,yBAKZ,eAAC,IAAD,WACI,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,aAAaC,OAAQ,WACnC,OAAO,cAAC,IAAD,CAAUJ,GAAG,aAGxB,cAAC,IAAD,CAAOG,KAAK,QAAQC,OAAQ,kBACxB,cAAC,EAAD,CACIjD,MAAOA,EACPV,WAAYA,EACZC,WAAYA,OAGpB,cAAC,IAAD,CAAOyD,KAAK,QAAQC,OAAQ,kBAAM,cAAC,EAAD,gBCjCvCC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,wBCFDQ,EAAcC,0BAAgB,CACvC5D,MTIW,WAAoD,IAA/BwC,EAA8B,uDAAtBpD,EAAcgC,EAAQ,uCAC9D,OAAQA,EAAO1B,MACX,KAAKT,EACD,OAAO,2BACAuD,GADP,IAEInD,MAAO+B,EAAOzB,QAAQN,QAE9B,KAAKH,EACD,OAAO,2BACAsD,GADP,IAEIlD,WAAY8B,EAAOzB,UAE3B,KAAKR,EACD,OAAO,2BACAqD,GADP,IAEIjD,WAAY6B,EAAOzB,UAE3B,QACI,OAAO6C,MSnBNqB,EAAQC,sBACjBH,EACAI,8BAAoBC,0BAAgBC,OCHxCC,IAASjB,OACL,cAAC,IAAMkB,WAAP,UACI,cAAC,IAAD,CAAUN,MAAOA,EAAjB,SACI,cAAC,EAAD,QAGRO,SAASC,eAAe,SAG5BnB,M","file":"static/js/main.399ed673.chunk.js","sourcesContent":["const SET_USERS = 'SET_USERS';\r\nconst SET_IS_FETCHING = 'SET_IS_FETCHING';\r\nconst SET_FETCH_ERR = 'SET_FETCH_ERR';\r\n\r\nconst defaultState = {\r\n    items: [],\r\n    isFetching: true,\r\n    isFetchErr: false,\r\n}\r\n\r\nexport default function bookReducer(state = defaultState, action) {\r\n    switch (action.type) {\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                items: action.payload.items,\r\n            }\r\n        case SET_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.payload,\r\n            }\r\n        case SET_FETCH_ERR:\r\n            return {\r\n                ...state,\r\n                isFetchErr: action.payload,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setUsers = (users) => ({\r\n    type: SET_USERS,\r\n    payload: users,\r\n});\r\n\r\nexport const setIsFetching = (bool) => ({\r\n    type: SET_IS_FETCHING,\r\n    payload: bool,\r\n});\r\n\r\nexport const setFetchErr = (bool) => ({\r\n    type: SET_FETCH_ERR,\r\n    payload: bool,\r\n});\r\n","import React from 'react';\r\nimport './Loader.scss';\r\n\r\nexport const Loader = () => {\r\n    return (\r\n        <div className=\"lds-dual-ring\" />\r\n    );\r\n};\r\n","import React from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {removeUser} from \"../../store/actions\";\r\nimport {Loader} from '../Loader/Loader';\r\n\r\nexport const Home = ({users, isFetching,isFetchErr}) => {\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <section className='section'>\r\n            <div className='home'>\r\n                <h3 className='title'>The phonebook</h3>\r\n\r\n                {isFetchErr &&\r\n                    <div>Произошла ошибка! ПОжалуйста обновите страницу!</div>\r\n                }\r\n\r\n                {isFetching\r\n                    ? <Loader/>\r\n                    : <ul className='home__book book'>\r\n                        {users.map(elem =>\r\n                            <li key={elem._id} className='book__item'>\r\n                                <span className=\"book__icon\"/>\r\n                                {elem.name}\r\n                                <button\r\n                                    onClick={() => {\r\n                                        dispatch(removeUser(elem._id))\r\n                                    }}\r\n                                >\r\n                                    delete\r\n                                </button>\r\n                            </li>)}\r\n                    </ul>\r\n                }\r\n\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\n","import axios from \"axios\";\r\nimport {setUsers, setFetchErr, setIsFetching} from \"./bookReducer\";\r\n\r\nexport const fetchUsers = () => {\r\n    return async (dispatch) => {\r\n        try {\r\n            dispatch(setIsFetching(true))\r\n            dispatch(setFetchErr(false))\r\n            const response = await axios.post(`http://localhost:8008/api/users/get`)\r\n            dispatch(setUsers(response.data))\r\n        } catch (e) {\r\n            dispatch(setFetchErr(true))\r\n        } finally {\r\n            dispatch(setIsFetching(false))\r\n        }\r\n    }\r\n}\r\n\r\nexport const removeUser = (id) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = fetch(`http://localhost:8008/api/users/delete/${id}`, {\r\n                method: 'GET',\r\n            })\r\n            return response.json();\r\n        } catch (error) {\r\n            const errorMessage = error.message;\r\n        }\r\n    }\r\n}\r\n\r\nexport const createUser = (name, number) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await fetch(`http://localhost:8008/api/users/create`, {\r\n                method: 'POST',\r\n                headers: {'Content-type': 'application/json; charset=UTF-8'},\r\n                body: JSON.stringify({name, number}),\r\n            })\r\n            await response.json();\r\n        } catch (error) {\r\n            const errorMessage = error.message;\r\n        }\r\n    }\r\n}\r\n\r\nexport const updateUser = (id) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await fetch(`http://localhost:8008/api/users/update`, {\r\n                method: 'POST',\r\n                headers: {'Content-type': 'application/json; charset=UTF-8'},\r\n                body: JSON.stringify(id),\r\n            })\r\n            console.log(response)\r\n            await response.json();\r\n        } catch (error) {\r\n            const errorMessage = error.message;\r\n        }\r\n    }\r\n}\r\n","import React, {useState} from 'react';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {createUser} from '../../../store/actions';\r\n\r\nexport const AddForm = () => {\r\n    const [name, setName] = useState('');\r\n    const [number, setNumber] = useState('');\r\n    const dispatch = useDispatch();\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (name !== '' && number !== '') {\r\n            dispatch(createUser(name, number));\r\n            setName('');\r\n            setNumber('');\r\n        }\r\n        console.warn('handleSubmit');\r\n    }\r\n\r\n    return (\r\n        <form action='' className='form__add' onSubmit={handleSubmit}>\r\n            <h3 className='title'>Create</h3>\r\n                <label htmlFor='firstName'>Name:</label>\r\n                <input\r\n                    value={name}\r\n                    onChange={(e) => {\r\n                        setName(e.target.value);\r\n                    }}\r\n                    type='text'\r\n                    placeholder='John'\r\n                    id='firstName'\r\n                />\r\n                <label htmlFor='phone'>Number:</label>\r\n                <input\r\n                    value={number}\r\n                    onChange={(e) => {\r\n                        setNumber(e.target.value);\r\n                    }}\r\n                    type='text'\r\n                    placeholder='+3 733 333 77 77'\r\n                    id='phone'\r\n                />\r\n                <button className=\"btn\" type=\"submit\">Save</button>\r\n        </form>\r\n    );\r\n};\r\n","import React from 'react';\r\n\r\nexport const EditForm = () => {\r\n    return (\r\n        <form action='' className='form__edit'>\r\n            <h3 className='title'>Edit</h3>\r\n            <label htmlFor='firstName'>Name:</label>\r\n            <input\r\n                type='text'\r\n                placeholder='John'\r\n                id='firstName'\r\n            />\r\n            <label htmlFor='phone'>Number:</label>\r\n            <input\r\n                type='text'\r\n                placeholder='+3 733 333 77 77'\r\n                id='phone'\r\n            />\r\n            <button className=\"btn\" type=\"submit\">Save</button>\r\n        </form>\r\n    );\r\n};\r\n\r\n","import React from 'react';\r\nimport {AddForm} from \"./AddForm/AddForm\";\r\nimport {EditForm} from \"./EditForm/EditForm\";\r\n\r\nexport const Form = () => {\r\n    return (\r\n        <section className='section'>\r\n            <div className='forms'>\r\n                <AddForm/>\r\n                <EditForm/>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n","import React, {useEffect} from \"react\";\r\nimport './App.scss';\r\nimport './styles/reset.scss';\r\nimport {BrowserRouter as Router, Switch, Route, Link, Redirect} from 'react-router-dom';\r\nimport {Home} from './components/Home/Home';\r\nimport {Form} from './components/Form/Form';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {fetchUsers} from \"./store/actions\";\r\n\r\nfunction App() {\r\n    const dispatch = useDispatch();\r\n    const users = useSelector(state => state.users.items);\r\n    const isFetching = useSelector(state => state.users.isFetching);\r\n    const isFetchErr = useSelector(state => state.users.isFetchErr);\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchUsers());\r\n    }, []);\r\n\r\n    return (\r\n        <Router>\r\n            <div className='App'>\r\n                <nav className='nav'>\r\n                    <ul className='nav_list'>\r\n                        <li className='nav_link'>\r\n                            <Link to='/home' data-item='Home'>Home</Link>\r\n                        </li>\r\n                        <li className='nav_link'>\r\n                            <Link to='/form' data-item='Form'>Form</Link>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n\r\n                <Switch>\r\n                    <Route exact path=\"/reduxbook\" render={() => {\r\n                        return <Redirect to=\"/home\"/>\r\n                    }}\r\n                    />\r\n                    <Route path='/home' render={() =>\r\n                        <Home\r\n                            users={users}\r\n                            isFetching={isFetching}\r\n                            isFetchErr={isFetchErr}\r\n                        />\r\n                    }/>\r\n                    <Route path='/form' render={() => <Form /> }/>\r\n                </Switch>\r\n            </div>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport bookReducer from \"./bookReducer\";\r\nimport {composeWithDevTools} from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nexport const rootReducer = combineReducers({\r\n    users: bookReducer,\r\n});\r\n\r\nexport const store = createStore(\r\n    rootReducer,\r\n    composeWithDevTools(applyMiddleware(thunk)),\r\n);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {Provider} from \"react-redux\";\r\nimport {store} from \"./store/index\";\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}