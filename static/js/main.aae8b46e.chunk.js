(this.webpackJsonpreduxbook=this.webpackJsonpreduxbook||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(19),s=n.n(r),i=n(12),u=(n(45),n(14)),o=(n(46),n(47),n(3)),b=n(10),l=n(11),j=n.n(l),p=n(18),d=n(37),m=n.n(d),O=n(40),f=n(5),h="SET_USERS",x="SET_IS_FETCHING",v="SET_FETCH_ERR",_="DELETE_USER",y="ADD_USER",N="UPDATE_USER",g={items:[],isFetching:!0,isFetchErr:!1};var S=function(e){return{type:x,payload:e}},E=function(e){return{type:v,payload:e}},k=function(e){return{type:_,payload:e}},T=(n(71),n(72),n(1)),w=function(e){var t=e.className,n=e.text,a=e.action,c=e.type;return Object(T.jsx)("button",{onClick:a,className:t,type:c,children:n})},F=(n(74),function(e){var t=e.value,n=e.action,a=e.type,c=e.className,r=e.placeholder;return Object(T.jsx)("input",{value:t,type:a,onChange:n,className:c,placeholder:r})}),C=function(e){var t=e.user,n=Object(a.useState)(t.name),c=Object(u.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(t.number),l=Object(u.a)(o,2),d=l[0],m=l[1],O=Object(b.b)();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("form",{className:"form form__edit",onSubmit:function(e){var n,a,c;e.preventDefault(),O((n=r,a=d,c=t._id,function(){var e=Object(p.a)(j.a.mark((function e(t){var r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:8008/api/users/update",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({name:n,number:a,_id:c})});case 3:return r=e.sent,e.next=6,r.json();case 6:s=e.sent,console.log(s),t({type:N,payload:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),e.t0.message;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(T.jsx)("div",{className:"form__details",children:Object(T.jsx)("span",{className:"form__circle center"})}),Object(T.jsx)(F,{value:r,action:function(e){return s(e.target.value)},className:"input input-edit"}),Object(T.jsx)(F,{value:d,action:function(e){return m(e.target.value)},className:"input input-edit"}),Object(T.jsx)(w,{text:"save",className:"btn btn__save"})]}),Object(T.jsx)(i.b,{to:"/",children:Object(T.jsx)(w,{text:"back",className:"btn btn__back"})})]})},D=function(e){var t=e.user,n=Object(b.b)();return Object(T.jsxs)(o.c,{children:[Object(T.jsx)(o.a,{path:"/",exact:!0,children:Object(T.jsxs)("div",{className:"book__item",children:[Object(T.jsx)("span",{className:"form__circle"}),Object(T.jsxs)("div",{className:"info",children:[Object(T.jsx)("div",{className:"book__name",children:t.name}),Object(T.jsx)("div",{className:"book__number",children:t.number})]}),Object(T.jsx)(w,{action:function(){return n((e=t._id,function(){var t=Object(p.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{fetch("http://localhost:8008/api/users/delete/".concat(e),{method:"GET"}),n(k(e))}catch(a){a.message}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e},className:"btn btn__delete",text:"delete"}),Object(T.jsx)(i.b,{to:"/info/".concat(t._id),children:Object(T.jsx)(w,{className:"btn btn__edit",text:"edit"})})]})}),Object(T.jsx)(o.a,{path:"/info/".concat(t._id),children:Object(T.jsx)(C,{user:t})})]})},R=(n(76),function(){return Object(T.jsx)("div",{className:"lds-dual-ring"})}),U=function(e){var t=e.name,n=e.number,a=e.setName,c=e.setNumber,r=e.handleSubmit;return Object(T.jsxs)("form",{onSubmit:r,children:[Object(T.jsx)(F,{value:t,action:function(e){return a(e.target.value)},className:"input",placeholder:"name"}),Object(T.jsx)(F,{value:n,action:function(e){return c(e.target.value)},className:"input",placeholder:"number"}),Object(T.jsx)(w,{className:"btn btn__save",type:"submit",text:"add"})]})};var P=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(u.a)(r,2),i=s[0],l=s[1],d=Object(a.useState)(!1),O=Object(u.a)(d,2),f=O[0],x=O[1],v=Object(b.b)(),_=Object(b.c)((function(e){return e.users.items})),N=Object(b.c)((function(e){return e.users.isFetching}));return Object(a.useEffect)((function(){v(function(){var e=Object(p.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(S(!0)),t(E(!1)),e.next=5,m.a.post("http://localhost:8008/api/users/get");case 5:n=e.sent,t((a=n.data,{type:h,payload:a})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(E(!0));case 12:return e.prev=12,t(S(!1)),e.finish(12);case 15:case"end":return e.stop()}var a}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(T.jsx)(o.a,{path:"/",children:Object(T.jsx)("div",{className:"App",children:Object(T.jsxs)("article",{className:"book",children:[Object(T.jsx)(w,{action:function(){return x(!f)},className:"btn btn__new",text:"new"}),f&&Object(T.jsx)(U,{name:n,number:i,setName:c,setNumber:l,handleSubmit:function(e){e.preventDefault(),""!==n&&""!==i&&v(function(e,t){return function(){var n=Object(p.a)(j.a.mark((function n(a){var c,r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("http://localhost:8008/api/users/create",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({name:e,number:t})});case 3:return c=n.sent,n.next=6,c.json();case 6:r=n.sent,a({type:y,payload:r}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),n.t0.message;case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}(n,i))}}),N?Object(T.jsx)(R,{}):_.map((function(e){return Object(T.jsx)(D,{user:e,name:n,number:i,setName:c,setNumber:l},e._id)}))]})})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},J=n(13),A=n(38),L=n(39),B=Object(J.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(f.a)(Object(f.a)({},e),{},{items:t.payload.items});case x:return Object(f.a)(Object(f.a)({},e),{},{isFetching:t.payload});case v:return Object(f.a)(Object(f.a)({},e),{},{isFetchErr:t.payload});case _:return Object(f.a)(Object(f.a)({},e),{},{items:e.items.filter((function(e){return e._id!==t.payload}))});case y:return Object(f.a)(Object(f.a)({},e),{},{items:[].concat(Object(O.a)(e.items),[t.payload])});case N:var n=e.items.map((function(e){return e._id===t.payload._id?Object(f.a)({},t.payload):e}));return Object(f.a)(Object(f.a)({},e),{},{items:n});default:return e}}}),G=Object(J.createStore)(B,Object(A.composeWithDevTools)(Object(J.applyMiddleware)(L.a)));s.a.render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(i.a,{children:Object(T.jsx)(b.a,{store:G,children:Object(T.jsx)(P,{})})})}),document.getElementById("root")),I()}},[[77,1,2]]]);
//# sourceMappingURL=main.aae8b46e.chunk.js.map